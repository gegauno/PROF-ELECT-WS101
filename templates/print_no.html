<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Print Number</title>
    <!-- MaterializeCSS -->
    <link rel="stylesheet" href="{{ url_for('static',filename='assets/css/materializecss.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='assets/css/style.css')}}">
    <link rel="stylesheet" href="{{ url_for('static',filename='assets/css/materializecss-icons.css')}}">
</head>
<body>
    <nav>
    <div class="nav-wrapper green">
        <a href="#!" class="brand-logo">Queuing System</a>
        <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
        <ul class="right hide-on-med-and-down">
            <li><a href="/">Login <i class="material-icons right">vpn_key</i></a></li>
            <li><a href="/windash">Windows Dashboard <i class="material-icons right">developer_board</i></a></li>
        </ul>
    </div>
    </nav>
    <ul class="sidenav" id="mobile-demo">
        <li><a href="/">Login <i class="material-icons right">vpn_key</i></a></li>
        <li><a href="/windash">Windows Dashboard <i class="material-icons right">developer_board</i></a></li>
    </ul>
    <div class="container">
        <div class="row">
            {% for row in data%}
            <form action="/print_num" method="post">
            <div class="col s10 m4">
                <div class="card">
                    <div class="card-image">
                        <img src="{{url_for('static',filename='assets/img/bg.jpg')}}">
                        <span class="card-title white-text" style="font-size:5rem;">
                            {% if row[0] == None %}
                                {{1}}
                                <input type="number" name="number" hidden value="{{1}}">
                            {%else%}
                                {{row[0]}}
                                <input type="number" name="number" hidden value="{{row[0]}}">
                            {%endif%}
                        </span>
                    </div>
                    <div class="card-stacked">
                        <div class="card-content">
                                <span class="card-title flow-text">{{row[6]}} Window <b>{{loop.index}}</b></span>
                            <p>{{row[5]}}</p>
                            <div class="input-field col s12">
                            <select name="purp_id" required>
                                {% for col in data2 %}
                                {% if row[7] == col[8] %}
                                <option value="{{col[7]}}">{{col[6]}}</option>
                                {% endif %}
                                {% endfor %}
                            </select>
                            <label>Select Purpose:</label>
                            </div>
                        </div>
                        <div class="card-action">
                            <!-- <input type="hidden" name="number" type="number" value=""> -->
                            <input type="hidden" name="win_no" type="number" value="{{row[7]}}">
                            <button class="btn btn-large waves-effect waves-light blue large" type="submit" name="print_num"><i class="material-icons large">print</i></button>
                        </div>
                    </div>                    
                </div>
            </div>      
            </form>      
            {% endfor %}
        </div>
    </div>
    <!-- MaterializeCSS -->
    <script src="{{ url_for('static',filename='assets/js/materialize-css.min.js')}}"></script>
    <script>
    M.AutoInit();
    let status = '{{status}}';
    if(status!=''){
      M.toast({html: status.data})
    }
    </script>
</body>
</html>
